<!-- TO-DO: Create a page on how to intall Ubuntu Server to a machine -->
<!-- TO-DO: Create a page on how to install Ubuntu Server virtually through VMWare -->
# Install Ubuntu Server for DShield SIEM

Jump To:
- [Install Ubuntu Server for DShield SIEM](#install-ubuntu-server-for-dshield-siem)
  - [Introduction and Objectives](#introduction-and-objectives)
  - [Estimated Time to Complete](#estimated-time-to-complete)
- [Setup Process](#setup-process)
  - [(Option) Wipe Your Hard Drive - Parted Magic or DBAN](#option-wipe-your-hard-drive---parted-magic-or-dban)
      - [Parted Magic](#parted-magic)
      - [DBAN](#dban)
  - [Download and Install Ubuntu 22.04 LTS Server to a Physical Machine](#download-and-install-ubuntu-2204-lts-server-to-a-physical-machine)
  - [(Option) Download and Install Ubuntu 22.04 LTS Server to a Virtual Machine](#option-download-and-install-ubuntu-2204-lts-server-to-a-virtual-machine)
  - [Build a Docker Partition](#build-a-docker-partition)
  - [Install Docker](#install-docker)
  - [Install and Configure Dshield ELK](#install-and-configure-dshield-elk)
- [References and Resources](#references-and-resources)


## Introduction and Objectives
In this section, you will be downloading Ubuntu 22.04 LTS Server ISO, installing it to a machine, and installing your DShield SIEM into it. <br>
For more information about the Ubuntu OS, you can visit the [Ubuntu documentation page](https://help.ubuntu.com/?_ga=2.147379583.939059596.1731879815-467453869.1731770441). <br>
You can also find more Linux tutorials and other resources through the [Learn Linux TV page](https://www.learnlinux.tv/).

## Estimated Time to Complete

Depending on your familiarity with imaging and installing OS on computers, DBANs, troubleshooting, and ELK stack setups, this should take <b>around 2 to 4 hours</b> to complete. <br>
This section is specifically for installing a DShield SIEM, and is based on Guy Bruneau's and amalete11235's documentations.<br>
For additional documentation, troubleshooting, and support, you can find them at [Guy's GitHub page](https://github.com/bruneaug/DShield-SIEM/tree/main) and [amalete11235's GitHub Page](https://github.com/amelete11235/homelab/blob/main/Installing%20DShield%20SIEM%20on%20a%20Raspberry%20Pi%205%20-%208%20GB%20RAM/Installing%20DShield%20SIEM%20on%20a%20Raspberry%20Pi%205%20-%208%20GB%20RAM.md).

# Setup Process

## (Option) Wipe Your Hard Drive - Parted Magic or DBAN
As the title says, this will be optional. You may skip this step and go directly to the next step if you do not want to wipe your hard drive beforehand.<br>
<em><b>Disclaimer: you will be liable for your own data loss, so please back up any valuable files before you wipe your hard drives or before you install a new OS.</b></em><br>

#### Parted Magic

1. Install Parted Magic into a USB boot drive - https://partedmagic.com/creating-liveusb/
2. Booting the USB Boot Drive to your PC - https://partedmagic.com/booting/
3. Wipe your HD/SSD through Secure Erase - https://partedmagic.com/secure-erase/ <br>
- You can watch another video from this user's [YouTube page](https://www.youtube.com/watch?v=VyMRabOO2Uc) as well.<br>

#### DBAN

1. Installing DBAN into a USB boot drive and using DBAN to wipe your HD/SSD can be found on this user's [YouTube page](https://www.youtube.com/watch?v=LJ0dfR56edE).<br>

## Download and Install Ubuntu 22.04 LTS Server to a Physical Machine

1. [Create a bootable USB](https://ubuntu.com/tutorials/create-a-usb-stick-on-windows#1-overview) <br>
2. Boot the installer <br>
   - There should be an on-screen message when the computer starts telling you what key to press for settings or a boot menu. <br>
  Depending on the manufacturer, this could be Escape, F2, F10 or F12. <br>
  Simply restart your computer and hold down this key until the boot menu appears, then select the drive with the Ubuntu install media. - [Ubuntu Docs](https://ubuntu.com/server/docs/basic-installation#boot-the-installer)

3. Follow the installer screens until it says "Installation Complete!" and it prompts you to reboot. <br>
   If you need more assistance, Ubuntu provides documentation on their [installation guide page](https://canonical-subiquity.readthedocs-hosted.com/en/latest/index.html) that includes a [screen-by-screen guide](https://canonical-subiquity.readthedocs-hosted.com/en/latest/tutorial/screen-by-screen.html).

   - Additional tutorial videos can also be found here:<br>
     - [How To Prepare Bootable USB For Linux Through Rufus](https://www.youtube.com/watch?v=gvm0bIOBRCM&t=31s)<br>
     - [Install Ubuntu Server To a Physical Machine](https://www.youtube.com/watch?v=K2m52F0S2w8)

<em>Side tip: this would be the same process if you would like to use that repurposed machine as your DShield Sensor instead of a SIEM... All you need to do now is to clone the git, etc. You're welcome! :D</em>

## (Option) Download and Install Ubuntu 22.04 LTS Server to a Virtual Machine
This is an optional part if you would like to use a VM rather than a physical machine. You may skip this step and proceed to the next step if it doesn't apply to you.<br>
For this one I will be using VMWare as an example, but if you prefer a different hypervisor, you can search for them on YouTube, Google, or the hypervisor's website for documentations.<br>

- Refer on this YouTube video on how to [install Ubuntu Server on VMWare (Ubuntu)](https://www.youtube.com/watch?v=Df6xqFsz-GY).<br>
- Refer on this YouTube video on how to [install Ubuntu Server on VMWare (Windows 11)](https://www.youtube.com/watch?v=aSeOpluw4ZI).<br>

For additional documentations on how to configure and install a virtual machine through VMWare, visit the [Workstation Pro documentation page](https://docs.vmware.com/en/VMware-Workstation-Pro/17/com.vmware.ws.using.doc/GUID-22C31FB5-01A3-4E16-8B77-3FD5A0728C04.html)

## Build a Docker Partition


- [amalete11235's Documentation](https://github.com/amelete11235/homelab/blob/main/Installing%20DShield%20SIEM%20on%20a%20Raspberry%20Pi%205%20-%208%20GB%20RAM/Installing%20DShield%20SIEM%20on%20a%20Raspberry%20Pi%205%20-%208%20GB%20RAM.md#creating-your-300-gb-partition-assigned-to-varlibdocker)
  
  OR

- [Guy's Documentation](https://github.com/bruneaug/DShield-SIEM/blob/main/AddOn/Build_a_Docker_Partition.md)

## Install Docker

``` bash
sudo apt-get install ca-certificates curl gnupg network-manager txt2html

sudo install -m 0755 -d /etc/apt/keyrings

curl -fsSL https://download.docker.com/linux/debian/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg

sudo chmod a+r /etc/apt/keyrings/docker.gpg

echo "deb [arch="$(dpkg --print-architecture)" signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/debian "$(. /etc/os-release && echo "$VERSION_CODENAME")" stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

sudo apt update && sudo apt upgrade

sudo reboot 

sudo apt-get install -y jq docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin pip

sudo systemctl enable docker
```

## Install and Configure Dshield ELK

- [amalete11235's Documentation](https://github.com/amelete11235/homelab/blob/main/Installing%20DShield%20SIEM%20on%20a%20Raspberry%20Pi%205%20-%208%20GB%20RAM/Installing%20DShield%20SIEM%20on%20a%20Raspberry%20Pi%205%20-%208%20GB%20RAM.md#install-dshield-elk)
  
  OR

- [Guy's Documentation](https://github.com/bruneaug/DShield-SIEM/tree/main#configure-and-install-dshield-elk)

# References and Resources

- AWS Guides and Documentation - https://aws.amazon.com/getting-started/?nc1=f_cc
- DShield Sensor GitHub Page - https://github.com/DShield-ISC/dshield
  - AWS Install - https://github.com/DShield-ISC/dshield/blob/main/docs/install-instructions/AWS.md
  - Raspbian Install - https://github.com/DShield-ISC/dshield/blob/main/docs/install-instructions/Raspbian.md
  - Ubuntu Install - https://github.com/DShield-ISC/dshield/blob/main/docs/install-instructions/Ubuntu.md
  - openSUSE Install - https://github.com/DShield-ISC/dshield/blob/main/docs/install-instructions/openSUSE.md
- SANS Internet Storm Center - https://isc.sans.edu/
- DShield Sensor/Honeypot Setup Video - https://isc.sans.edu/tools/honeypot/